{"remainingRequest":"/home/chelakis/infsec/infsecfinal/vue-infsec-proj/node_modules/babel-loader/lib/index.js!/home/chelakis/infsec/infsecfinal/vue-infsec-proj/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/chelakis/infsec/infsecfinal/vue-infsec-proj/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chelakis/infsec/infsecfinal/vue-infsec-proj/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/chelakis/infsec/infsecfinal/vue-infsec-proj/src/components/Login.vue","mtime":1591028628507},{"path":"/home/chelakis/infsec/infsecfinal/vue-infsec-proj/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chelakis/infsec/infsecfinal/vue-infsec-proj/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/chelakis/infsec/infsecfinal/vue-infsec-proj/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chelakis/infsec/infsecfinal/vue-infsec-proj/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IHJvdXRlciBmcm9tICIucm91dGVyL3JvdXRlci5qcyIKLy8gZXhwb3J0IGRlZmF1bHQgewovLyAgICAgLy8gbWV0aG9kczogewovLyAgICAgLy8gICAgIHJlZGlyZWN0OiBmdW5jdGlvbiAoKSB7aW1wb3J0IFZ1ZSBmcm9tICd2dWUnCi8vICAgICAvLyAgICAgICAgIHRoaXMucm91dGVyLnB1c2goeyBuYW1lOiAnQXBwJyB9KTsgICAKLy8gICAgIC8vICAgICB9Ci8vICAgICAvLyB9Ci8vICAgICBtZXRob2RzOiB7IGxvZ2luICgpIHsKLy8gICAgICAgICAvLyB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IG5hbWU6ICdUZXh0cycgfSk7Ci8vICAgICAgICAgICAgICAgICAgICAgYWxlcnQoImhleSIpOwovLyAgICAgfQovLyB9CmltcG9ydCBheGlvcyBmcm9tICdAL2F4aW9zJzsgLy8gaW1wb3J0IHsgc2F2ZUFzIH0gZnJvbSAnZmlsZS1zYXZlcic7CgpleHBvcnQgZGVmYXVsdCB7CiAgbWV0aG9kczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIGF4aW9zLnBvc3QoJy9leHRlcm5hbC9hdXRob3JpemUnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvdXNlcnMvJyArIHJlc3BvbnNlLmRhdGEudXVpZCArICcvcmVnaXN0ZXInLCB7CiAgICAgICAgICB0b2tlbjogcmVzcG9uc2UuZGF0YS50b2tlbgogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgc2VsZi4kc2Vzc2lvbi5zdGFydCgpOwogICAgICAgICAgc2VsZi4kc2Vzc2lvbi5zZXQoJ2p3dCcsIHJlcy5kYXRhLnRva2VuKTsKICAgICAgICAgIHNlbGYuJHBhcmVudC5hdXRoZW50aWNhdGVkID0gdHJ1ZTsKICAgICAgICAgIGNvbnNvbGUubG9nKHNlbGYuJHNlc3Npb24uZ2V0KCdqd3QnKSk7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLnV1aWQpOwoKICAgICAgICAgIHZhciBGaWxlU2F2ZXIgPSByZXF1aXJlKCdmaWxlLXNhdmVyJyk7CgogICAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbInV1aWQ6IiwgcmVzcG9uc2UuZGF0YS51dWlkLCAiIGp3dDoiLCBzZWxmLiRzZXNzaW9uLmdldCgnand0JyldLCB7CiAgICAgICAgICAgIHR5cGU6ICJ0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgiCiAgICAgICAgICB9KTsKICAgICAgICAgIEZpbGVTYXZlci5zYXZlQXMoYmxvYiwgInVzZXIiICsgcmVzcG9uc2UuZGF0YS51dWlkICsgIi50eHQiKTsKICAgICAgICAgIHNlbGYuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgbmFtZTogJ3RleHRzJwogICAgICAgICAgfSk7IC8vIFZ1ZS5odHRwLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyByZXMuZGF0YS50b2tlbgogICAgICAgICAgLy8gYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArICByZXMuZGF0YS50b2tlbgogICAgICAgICAgLy8gLnRoZW4ocmVzcyA9PiAoY29uc29sZS5sb2cocmVzcy5kYXRhLm1lc3NhZ2UpKSkKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;AAcA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAA,KAAA,MAAA,SAAA,C,CACA;;AAKA,eAAA;AACA,EAAA,OAAA,EAAA;AACA,IAAA,KAAA,EAAA,iBAAA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,MAAA,KAAA,CACA,IADA,CACA,qBADA,EAEA,IAFA,CAEA,UAAA,QAAA;AAAA,eACA,KAAA,CACA,IADA,CACA,YAAA,QAAA,CAAA,IAAA,CAAA,IAAA,GAAA,WADA,EACA;AACA,UAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA;AADA,SADA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,UAAA,IAAA,CAAA,QAAA,CAAA,KAAA;AACA,UAAA,IAAA,CAAA,QAAA,CAAA,GAAA,CAAA,KAAA,EAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,UAAA,IAAA,CAAA,OAAA,CAAA,aAAA,GAAA,IAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,QAAA,CAAA,GAAA,CAAA,KAAA,CAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA;;AAEA,cAAA,SAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AACA,cAAA,IAAA,GAAA,IAAA,IAAA,CAAA,CAAA,OAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,EAAA,OAAA,EAAA,IAAA,CAAA,QAAA,CAAA,GAAA,CAAA,KAAA,CAAA,CAAA,EAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA,CAAA;AACA,UAAA,SAAA,CAAA,MAAA,CAAA,IAAA,EAAA,SAAA,QAAA,CAAA,IAAA,CAAA,IAAA,GAAA,MAAA;AAEA,UAAA,IAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA,EAXA,CAYA;AACA;AACA;AACA,SAnBA,CADA;AAAA,OAFA;AA0BA;AA7BA;AADA,CAAA","sourcesContent":["<template>\n  <div class=\"main-div\">\n    <p>\n        Protect yourself and the others around you using CoronaTracker app.\n        Join the CoronaTracker app just by clicking on the button below.\n    </p> \n    <div class=\"holder\">\n        <button class=\"btn btn-primary\" type=\"submit\" v-on:click=\"login()\">Login</button>\n    </div>\n  </div>\n</template>\n\n<script>\n\n// import router from \".router/router.js\"\n\n// export default {\n//     // methods: {\n//     //     redirect: function () {import Vue from 'vue'\n\n//     //         this.router.push({ name: 'App' });   \n//     //     }\n//     // }\n//     methods: { login () {\n//         // this.$router.replace({ name: 'Texts' });\n//                     alert(\"hey\");\n//     }\n// }\n\nimport axios from '@/axios'\n// import { saveAs } from 'file-saver';\n\n\n\n\nexport default {\n    methods: {\n        login: function () {\n            const self = this\n            axios\n            .post('/external/authorize')\n            .then(response => (\n                axios.\n                post('/users/' + response.data.uuid + '/register', {\n                    token: response.data.token\n                })\n                .then(function (res) {\n                    self.$session.start()\n                    self.$session.set('jwt', res.data.token)\n                    self.$parent.authenticated = true\n                    console.log(self.$session.get('jwt'))\n                    console.log(response.data.uuid)\n\n                    var FileSaver = require('file-saver');\n                    var blob = new Blob([\"uuid:\", response.data.uuid, \" jwt:\", self.$session.get('jwt') ], {type: \"text/plain;charset=utf-8\"});\n                    FileSaver.saveAs(blob, \"user\" + response.data.uuid + \".txt\");\n\n                    self.$router.push({ name: 'texts' })                     \n                    // Vue.http.headers.common['Authorization'] = 'Bearer ' + res.data.token\n                    // axios.defaults.headers.common['Authorization'] = 'Bearer ' +  res.data.token\n                    // .then(ress => (console.log(ress.data.message)))\n                })\n            ))\n            \n                      \n        }\n    }\n}\n</script>\n\n<style scoped>\n\n    button {\n        align-items: center;\n        padding: 15px 70px;\n        /* border: 1px solid #0275d8; */\n        /* color: #0275d8; */\n        /* background-color:#fff; */\n        border-radius: 20px;\n        font-size: 25px;\n        font-family: '微软雅黑','arial';\n        cursor: pointer;\n    }\n\n    /* div { */\n    /* align-items: center; */\n    /* text-align: center; */\n    /* } */\n\n    p {\n    /* text-align:center; */\n        color: gray;\n        font-size: 20px;\n    }\n\n    .holder {\n        padding: 20px 0;\n        text-align: center;\n        background: #fff;\n    }\n\n\n\n  \n</style>"],"sourceRoot":"src/components"}]}